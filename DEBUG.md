# Отладка проблемы с мастер-паролем

## Проблема
После ввода мастер-пароля ничего не происходит.

## Шаги для отладки

### 1. Откройте консоль разработчика

В открытом приложении:
- Нажмите `F12` или `Ctrl+Shift+I`
- Откройте вкладку **Console**

### 2. Проверьте логи

После ввода мастер-пароля вы должны увидеть логи:
- `[Setup] Начинаем установку мастер-пароля...`
- `[useAuth] setup вызван...`
- `[Main] set-master-password вызван`
- `[Main] Мастер-пароль успешно установлен`
- `[useAuth] Состояние обновлено...`
- `[App] Рендерим MainLayout...`

### 3. Если видите ошибки

Скопируйте текст ошибки и сообщите разработчику.

### 4. Если логи не появляются

Это означает, что:
- Либо `electronAPI` не загружен
- Либо есть ошибка JavaScript, которая блокирует выполнение

В этом случае проверьте вкладку **Console** на наличие ошибок (красный текст).

## Частые проблемы

### Ошибка: "Cannot read property 'setMasterPassword' of undefined"

**Причина:** `electronAPI` не загружен или `preload.js` не подключен.

**Решение:**
1. Проверьте, что файл `dist/main/preload.js` существует
2. Пересоберите приложение: `npm run build:win`

### Ошибка: "Failed to execute 'invoke' on 'IpcRenderer'"

**Причина:** IPC канал не настроен правильно.

**Решение:**
1. Убедитесь, что `preload.js` скомпилирован
2. Проверьте, что в `main.ts` правильно указан путь к `preload.js`

### Мастер-пароль устанавливается, но UI не обновляется

**Причина:** Состояние React не обновляется.

**Решение:** 
1. Проверьте логи - должно быть сообщение `[useAuth] Состояние обновлено`
2. Если состояние обновляется, но UI не меняется, проблема в условном рендеринге
