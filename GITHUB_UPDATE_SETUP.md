# Настройка автообновления через GitHub Releases

## Шаги для настройки:

### 1. Создайте репозиторий на GitHub
- Создайте публичный репозиторий с названием `SafeKey` (или измените название в коде)
- Скопируйте URL репозитория

### 2. Обновите конфигурацию

#### В `package.json`:
```json
"publish": [
  {
    "provider": "github",
    "owner": "ВАШ_GITHUB_USERNAME",
    "repo": "SafeKey"
  }
]
```

#### В `src/main/updater/github-updater.ts`:
```typescript
autoUpdater.setFeedURL({
  provider: 'github',
  owner: 'ВАШ_GITHUB_USERNAME', // Замените на ваш GitHub username
  repo: 'SafeKey', // Замените на название вашего репозитория
});
```

### 3. Создание релиза

После сборки приложения:

1. **Создайте тег версии:**
```bash
git tag v1.0.0
git push --tags
```

2. **Создайте Release на GitHub:**
   - Перейдите в раздел "Releases" вашего репозитория
   - Нажмите "Create a new release"
   - Выберите созданный тег (например, v1.0.0)
   - Заполните название и описание
   - Загрузите файлы:
     - `SafeKey-Setup-1.0.0-x64.exe` (установщик)
     - `SafeKey-1.0.0-x64.zip` (portable версия, опционально)
   - Нажмите "Publish release"

### 4. Формат файлов для релиза

**Обязательно:**
- `SafeKey-Setup-1.0.0-x64.exe` - установщик для Windows

**Опционально:**
- `SafeKey-1.0.0-x64.zip` - portable версия
- `latest.yml` - автоматически создается electron-builder (если используете)

### 5. Проверка обновлений

Приложение автоматически:
- Проверяет обновления при запуске
- Проверяет обновления каждые 4 часа
- Показывает уведомление при наличии новой версии
- Загружает и устанавливает обновление по запросу пользователя

### 6. Тестирование

Для тестирования автообновления:
1. Создайте релиз с версией выше текущей (например, v1.0.1)
2. Загрузите установщик в релиз
3. Запустите приложение - оно должно обнаружить обновление

### Важно:

- Репозиторий должен быть **публичным** для работы автообновления
- Версия в `package.json` должна совпадать с версией тега (например, "1.0.0" = "v1.0.0")
- Файлы должны быть загружены в раздел "Assets" релиза
- Для приватных репозиториев потребуется GitHub Token (настройка сложнее)

