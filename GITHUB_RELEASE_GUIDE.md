# Инструкция по загрузке релиза в GitHub для автообновления

## Шаг 1: Сборка приложения

Соберите установщик приложения:
```bash
npm run build:win
```

Или если есть проблемы с electron-builder, используйте Inno Setup с файлами из `dist/`.

## Шаг 2: Создание тега версии

1. Откройте терминал в корне проекта
2. Создайте тег версии (например, v1.0.0):
```bash
git tag v1.0.0
git push --tags
```

**Важно:** Версия тега должна совпадать с версией в `package.json` (поле `"version"`).

## Шаг 3: Создание Release на GitHub

1. Перейдите на страницу вашего репозитория: https://github.com/Actoric/SafeKey
2. Нажмите на раздел **"Releases"** (справа в меню)
3. Нажмите **"Create a new release"** или **"Draft a new release"**

## Шаг 4: Заполнение информации о релизе

1. **Choose a tag:** Выберите созданный тег (например, `v1.0.0`)
2. **Release title:** Название релиза (например, "SafeKey v1.0.0")
3. **Describe this release:** Описание изменений (можно использовать Markdown)

Пример описания:
```markdown
## Что нового
- Исправлена навигация между разделами
- Добавлена проверка автообновления
- Улучшен оверлей с раскрытием паролей
- Добавлен автозапуск и работа с системным треем
```

## Шаг 5: Загрузка файлов

В разделе **"Attach binaries"** загрузите файлы:

### Обязательные файлы:
- **SafeKey-Setup-1.0.0-x64.exe** - установщик для Windows
  - Находится в папке `release/` после сборки
  - Или создайте через Inno Setup

### Опциональные файлы:
- **SafeKey-1.0.0-x64.zip** - portable версия (если создавали)
- **latest.yml** - автоматически создается electron-builder (если используете)

## Шаг 6: Публикация релиза

1. Нажмите кнопку **"Publish release"**
2. Релиз будет опубликован и доступен для автообновления

## Проверка автообновления

После публикации релиза:

1. Запустите приложение
2. Приложение автоматически проверит наличие обновлений
3. Или в настройках нажмите "Проверить обновления"
4. Если найдено обновление, появится уведомление

## Важные замечания

1. **Версия в package.json** должна совпадать с версией тега:
   - `package.json`: `"version": "1.0.0"`
   - Тег: `v1.0.0`

2. **Репозиторий должен быть публичным** для работы автообновления через GitHub API

3. **Формат файлов:**
   - Установщик должен быть в формате `.exe`
   - Название должно соответствовать паттерну: `SafeKey-Setup-{version}-{arch}.exe`

4. **Для следующего релиза:**
   - Обновите версию в `package.json`
   - Создайте новый тег
   - Создайте новый Release
   - Загрузите новый установщик

## Пример команд для быстрого релиза

```bash
# 1. Обновить версию в package.json (вручную)
# 2. Собрать приложение
npm run build:win

# 3. Создать тег и отправить
git add package.json
git commit -m "Release v1.0.1"
git tag v1.0.1
git push
git push --tags

# 4. Затем создать Release на GitHub через веб-интерфейс
```

## Альтернатива: Использование Inno Setup

Если electron-builder не работает:

1. Соберите код: `npm run build`
2. Создайте установщик через Inno Setup с файлами из `dist/`
3. Назовите файл: `SafeKey-Setup-1.0.0-x64.exe`
4. Загрузите в GitHub Release

