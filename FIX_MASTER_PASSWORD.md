# Исправление проблемы с мастер-паролем

## Проблема
После ввода мастер-пароля ничего не происходит - приложение не переходит к следующему экрану.

## Шаги для диагностики

### 1. Откройте консоль разработчика

В приложении нажмите `F12` или `Ctrl+Shift+I`

### 2. Введите мастер-пароль снова

Вы должны увидеть последовательность логов:

```
[Setup] Начинаем установку мастер-пароля...
[useAuth] setup вызван, вызов setMasterPassword...
[Main] set-master-password вызван
[Main] Мастер-пароль успешно установлен
[useAuth] Результат setMasterPassword: {success: true}
[useAuth] Устанавливаем isInitialized = true
[useAuth] Устанавливаем isAuthenticated = true
[App] ⚡ Состояние изменилось - isInitialized: true isAuthenticated: true
[App] Рендерим MainLayout...
```

### 3. Если логи не появляются

Это означает, что:
- Либо форма не отправляется (проверьте, что пароли совпадают и длина >= 8)
- Либо есть JavaScript ошибка (проверьте красные сообщения в консоли)

### 4. Если логи есть, но UI не обновляется

Это проблема с React - состояние обновляется, но компонент не перерисовывается.

**Решение:** Перезагрузите приложение (закройте и откройте заново).

### 5. Проверка вручную

После установки мастер-пароля файл должен быть создан:
- Windows: `%APPDATA%\SafeKey\master.key`

Если файл создан, но приложение не реагирует - это проблема с обновлением состояния React.

## Быстрое исправление

Если проблема сохраняется после пересборки:

1. Закройте приложение полностью
2. Удалите файл `%APPDATA%\SafeKey\master.key` (если есть)
3. Пересоберите и запустите приложение заново:
   ```bash
   npm run build:win
   ```
4. Попробуйте установить мастер-пароль снова

## Если ничего не помогает

Пришлите полный лог консоли после попытки установки мастер-пароля - это поможет найти проблему.
